{% sw_extends '@Storefront/storefront/page/product-detail/tabs.html.twig' %}

{% block page_product_detail_tabs_navigation_description %}

    {{ parent() }}

    {% block mill_page_product_detail_tabs_navigation_downloads %}

        {% if page.millCloudProductDownloads.elements %}

            <li class="nav-item">
                <a class="nav-link product-detail-tab-navigation-link"
                   id="downloads-tab"
                   data-bs-toggle="tab"
                   data-off-canvas-tabs="true"
                   href="#downloads-tab-pane"
                   role="tab"
                   aria-controls="downloads-tab-pane"
                   aria-selected="true">
                    <span>
                        {{ "millCloudProductDownloadsTab.detail.title"|trans }}
                        {% if config('MillCloudProductDownloadsTab.config.showTabBadge') %}
                            <span class="badge bg-secondary">{{ page.millCloudProductDownloads.total }}</span>
                        {% endif %}
                    </span>
                    <span class="product-detail-tab-navigation-icon">
                        {% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
                    </span>
                </a>
            </li>

        {% endif %}

    {% endblock %}

{% endblock %}

{% block page_product_detail_tabs_content_description %}

    {{ parent() }}

    {% block mill_page_product_detail_tabs_content_downloads %}

        {% if page.millCloudProductDownloads.elements %}

            <div class="tab-pane fade show"
                 id="downloads-tab-pane"
                 role="tabpanel"
                 aria-labelledby="downloads-tab">

                {% sw_include '@Storefront/storefront/component/product/downloads-tab-container.html.twig' with {
                    dowloadTabFiles: page.millCloudProductDownloads.elements,
                    product: page.product
                } %}

            </div>

        {% endif %}

    {% endblock %}

{% endblock %}