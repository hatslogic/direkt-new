{% sw_extends '@ShopwareBundlePlugin/storefront/element/cms-element-cmsbundle-subcategory-slider.html.twig' %}

{% block element_product_slider_alignment %}
				
				{% if element.config.verticalAlign.value %}
					<div class="cms-element-alignment{% if sliderConfig.verticalAlign.value == " center" %} align-self-center{% elseif sliderConfig.verticalAlign.value == " flex-end" %} align-self-end{% else %} align-self-start{% endif %}">
					{% endif %}

					{% set subcategorySliderOptions = {
							slider: {
								gutter: 30,
								autoplayButtonOutput: false,
								nav: sliderConfig.dots.value,
								slideBy: 2,
								items: sliderConfig.countDesktop.value,
								mouseDrag: true,
								controls: sliderConfig.controls.value ? true : false,
								autoplay: sliderConfig.autoPlay.value ? true : false,
								speed: sliderConfig.speed.value,
								loop: sliderConfig.loop.value,
								prevButton: '.subcategory-slider__controls_prev',
								nextButton: '.subcategory-slider__controls_next',
								navPosition: 'bottom',
								preventScrollOnTouch: 'auto',
                                responsive: {
                                    md: {
                                        items: sliderConfig.countTablet.value
                                    },
                                    sm: {
                                        items: sliderConfig.countTablet.value,
                                        gutter: 10,
                                        nav: false,
                                        controls: false,
                                        disable: true
                                    },
                                    xs: {
                                        items: sliderConfig.countMobile.value,
                                        gutter: 10,
                                        nav: false,
                                        controls: false,
                                        disable: true
                                    }
                                }
							}
                		} 
					%}
					{% block element_subcategory_slider_slider %}
						{{parent()}}
					{% endblock %}
					{% if element.config.verticalAlign.value %}
					</div>
				{% endif %}
			{% endblock %}
{% block element_subcategory_slider_controls_items %}
    <button class="base-slider-controls-prev subcategory-slider__controls_prev{% if sliderConfig.border.value %} has-border{% endif %} start-0" aria-label="Previous Slide">
        {% block element_subcategory_slider_controls_items_prev_icon %}
            {# {% sw_icon 'arrow-head-left' %} #}
            <span class="icon icon-arrow"></span>
        {% endblock %}
    </button>
    <button class="base-slider-controls-next subcategory-slider__controls_next{% if sliderConfig.border.value %} has-border{% endif %} end-0" aria-label="Next Slide">
        {% block element_subcategory_slider_controls_items_next_icon %}
            {# {% sw_icon 'arrow-head-right' %} #}
            <span class="icon icon-arrow"></span>
        {% endblock %}
    </button>
{% endblock %}

{% block element_subcategory_slider_element %}
    <div class="subcategory-slider-container" data-base-slider-container="true">
        {% for subcategory in element.data.subCategory.elements %}
            {% block element_subcategory_slider_inner_item %}
                <div class="subcategory-slider-item" {% if not loop.first and isMobile %}aria-hidden="true"{% endif %}>
                    {% sw_include '@Storefront/storefront/component/subcategory/card.html.twig' with {
                        'layout': sliderConfig.boxLayout.value,
                        'displayMode': sliderConfig.displayMode.value
                    } %}
                </div>
            {% endblock %}
        {% endfor %}
    </div>
{% endblock %}
