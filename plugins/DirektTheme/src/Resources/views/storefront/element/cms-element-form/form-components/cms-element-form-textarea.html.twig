{% sw_extends '@Storefront/storefront/element/cms-element-form/form-components/cms-element-form-textarea.html.twig' %}

{% block cms_element_form_textarea_textarea %}
    {% apply spaceless %}
    {% set productEnquiryData = page.extensions.productEnquiryData %}

    <textarea name="{{ fieldName }}" id="form-{{ fieldName }}" placeholder="{{ placeholder|trans }}" {% if rows %} rows="{{ rows }}" {% endif %} {% if required %} required="required" {% endif %} class="form-control{% if formViolations.getViolations( '/' ~ fieldName ) %} is-invalid{% endif %}">
        {% if productEnquiryData.cartText %}
            {{ 'product-enquiry.cartText'|trans }}
            {{ productEnquiryData.cartText|raw }}
        {% elseif productEnquiryData.productText %}
        {{- 'product-enquiry.comment'|trans -}}
        {{ productEnquiryData.productText|raw }}
        {% else %}
            {{ data.get(fieldName) }}
        {% endif %}
    </textarea>
    {% endapply %}

    {% if formViolations.getViolations( '/' ~ fieldName ) is not empty %}
        {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                    violationPath: ('/' ~ fieldName)
                } %}
    {% endif %}

{% endblock %}
