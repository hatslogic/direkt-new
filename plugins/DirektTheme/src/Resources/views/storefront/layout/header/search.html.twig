{% sw_extends '@Storefront/storefront/layout/header/search.html.twig' %}

{% set searchWidgetOptions = {
    searchWidgetMinChars: page.header.activeLanguage.productSearchConfig.minSearchLength ?: 3
} %}

{% block layout_header_search %}
    <div class="collapse show"
         id="searchCollapse">
        <div class="header-search">
            {% block layout_header_search_button %}
                <button type="submit"
                        class="btn header-search-btn"
                        aria-label="{{ 'header.searchButton'|trans|striptags }}">
                    <span class="header-search-icon dk-header-search-toggle">
                        {# {% sw_icon 'search' %} #}
                        <span class="icon icon-search-icon"></span>
                        <span class="icon icon-close-icon"></span>
                    </span>
                </button>
            {% endblock %}
            {% block layout_header_search_form %}
                <div class="dk-search-box">
                    <form action="{{ path('frontend.search.page') }}"
                        method="get"
                        data-search-widget="true"
                        data-search-widget-options="{{ searchWidgetOptions|json_encode }}"
                        data-url="{{ path('frontend.search.suggest') }}?search="
                        class="header-search-form">
                        {% block layout_header_search_input_group %}
                            <div class="input-group">
                                {% block layout_header_search_close %}
                                    <button type="submit"
                                    class="btn header-search-btn"
                                    aria-label="{{ 'header.searchButton'|trans|striptags }}">
                                            <span class="header-search-icon">
                                            {# {% sw_icon 'search' %} #}
                                            <span class="icon icon-search-icon"></span>
                                            {# <span class="icon icon-close-icon"></span> #}
                                        </span>
                                    </button>
                                {% endblock %}
                                {% block layout_header_search_input %}
                                {{ parent() }}
                                {% endblock %}

                            </div>
                        {% endblock %}
                    </form>
                </div>
            {% endblock %}
        </div>
    </div>
{% endblock %}
