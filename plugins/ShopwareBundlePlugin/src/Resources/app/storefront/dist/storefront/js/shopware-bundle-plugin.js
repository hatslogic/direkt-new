"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["shopware-bundle-plugin"],{2860:(t,e,i)=>{var s,r,o,n=i(1857),l=i.n(n),d=i(9528);class a extends d.Z{_getSettings(t){super._getSettings(t),this._addItemLimit(t)}_addItemLimit(t){const e=this._getInnerWidth(),i=this._sliderSettings.gutter,s=parseInt(this.options.productboxMinWidth.replace("px",""),0);let r=Math.floor(e/(s+i));const o={mobile:"mobileCount",tablet:"tabletCount",desktop:"desktopCount"};for(const[t,e]of Object.entries(o)){const i=`(max-width: ${this._getBreakpointValue(t)}px)`;if(window.matchMedia(i).matches&&this._sliderSettings[e]){r=this._sliderSettings[e];break}}this._sliderSettings.items=r}_getInnerWidth(){const t=getComputedStyle(this.el);if(!t)return;let e=this.el.clientWidth;return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),e}_getBreakpointValue(t){switch(t){case"mobile":return 576;case"tablet":return 768;case"desktop":return 992;default:return 0}}}s=a,r="options",o=l()(d.Z.options,{containerSelector:"[data-hatslogic-slider-container=true]",controlsSelector:"[data-hatslogic-slider-controls=true]",productboxMinWidth:"300px"}),(r=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(r))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o;var c=i(6285);class u extends c.Z{init(){this.productId=this.options.productId,this._loadRecentlyViewedProducts(),this._saveToRecentlyViewedProducts()}_loadRecentlyViewedProducts(){const t=JSON.parse(localStorage.getItem("HatslogicProductsViewed"))||[];this._products=t}_saveToRecentlyViewedProducts(){this._productAlreadyViewed()||(this._products.push(this.productId),localStorage.setItem("HatslogicProductsViewed",JSON.stringify(this._products)))}_productAlreadyViewed(){return this._products.includes(this.productId)}}var p=i(5362),h=i(8254);class g extends c.Z{init(){this._loadRecentlyViewedProductIds(),this._client=new h.Z,this._fetchProducts()}_loadRecentlyViewedProductIds(){let t=JSON.parse(localStorage.getItem("HatslogicProductsViewed"))||[];t=t.reverse(),this._productIds=t}_fetchProducts(){this.options.route&&this._client.post(this.options.route,this._getData(),this._onResponse.bind(this))}_onResponse(t){if(this.options.replaceSelectors){this.el.closest(".js-slider-initialized").classList.remove("js-slider-initialized");p.Z.replaceFromMarkup(t,this.options.replaceSelectors,!1),window.PluginManager.initializePlugins()}}_getData(){return JSON.stringify({productIds:this._productIds,layoutColumns:this.options.layoutColumns,sidebar:this.options.sidebar,boxLayout:this.options.boxLayout,displayMode:this.options.displayMode,productsPerPage:parseInt(this.options.productsPerPage)})}}PluginManager.register("HatslogicSlider",a,"[data-hatslogic-slider]"),PluginManager.register("HatslogicProductViewed",u,"[data-hatslogic-product-viewed]"),PluginManager.register("HatslogicRecentlyViewedProduct",g,"[data-hatslogic-recently-viewed-product]")},9528:(t,e,i)=>{i.d(e,{Z:()=>u});var s,r,o,n=i(6285),l=i(4079),d=i(7474),a=i(2453),c=i(9068);class u extends n.Z{init(){this._slider=!1,this.el.classList.contains(this.options.initializedCls)||(this.options.slider=a.Z.prepareBreakpointPxValues(this.options.slider),this._correctIndexSettings(),this._getSettings(d.Z.getCurrentViewport()),this._initSlider(),this._registerEvents())}_correctIndexSettings(){this.options.slider.startIndex-=1,this.options.slider.startIndex=this.options.slider.startIndex<0?0:this.options.slider.startIndex}destroy(){if(this._slider&&"function"==typeof this._slider.destroy)try{this._slider.destroy()}catch(t){}this.el.classList.remove(this.options.initializedCls)}_registerEvents(){this._slider&&document.addEventListener("Viewport/hasChanged",(()=>this.rebuild(d.Z.getCurrentViewport())))}rebuild(t=d.Z.getCurrentViewport(),e=!1){this._getSettings(t.toLowerCase());try{if(this._slider&&!e){const t=this._getCurrentIndex();this._sliderSettings.startIndex=t}this.destroy(),this._initSlider()}catch(t){}this.$emitter.publish("rebuild")}_getSettings(t){this._sliderSettings=a.Z.getViewportSettings(this.options.slider,t)}getCurrentSliderIndex(){if(!this._slider)return;const t=this._slider.getInfo();let e=t.displayIndex%t.slideCount;return e=0===e?t.slideCount:e,e-1}getActiveSlideElement(){const t=this._slider.getInfo();return t.slideItems[t.index]}_initSlider(){this.el.classList.add(this.options.initializedCls);const t=this.el.querySelector(this.options.containerSelector),e=this.el.querySelector(this.options.controlsSelector),i=()=>{c.Z.initializePlugins(),this.$emitter.publish("initSlider")};t&&(this._sliderSettings.enabled?(t.style.display="",this._slider=(0,l.W)({container:t,controlsContainer:e,onInit:i,...this._sliderSettings})):t.style.display="none"),this.$emitter.publish("afterInitSlider")}_getCurrentIndex(){const t=this._slider.getInfo();let e=t.index%t.slideCount;return e=0===e?t.slideCount:e,e-1}}s=u,o={initializedCls:"js-slider-initialized",containerSelector:"[data-base-slider-container=true]",controlsSelector:"[data-base-slider-controls=true]",slider:{enabled:!0,responsive:{xs:{},sm:{},md:{},lg:{},xl:{},xxl:{}}}},(r=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(r="options"))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o},2453:(t,e,i)=>{i.d(e,{Z:()=>n});var s=i(1857),r=i.n(s),o=i(1966);class n{static getViewportSettings(t,e){const i=Object.assign({},t),s=t.responsive;delete i.responsive;const o=s[window.breakpoints[e.toLowerCase()]];return o?r()(i,o):i}static prepareBreakpointPxValues(t){return o.Z.iterate(t.responsive,((e,i)=>{const s=window.breakpoints[i.toLowerCase()];t.responsive[s]=e,delete t.responsive[i]})),t}}}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return e=2860,t(t.s=e);var e}));t.O()}]);