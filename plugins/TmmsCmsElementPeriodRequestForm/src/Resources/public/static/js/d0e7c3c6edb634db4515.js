"use strict";(window["webpackJsonpPlugintmms-cms-element-period-request-form"]=window["webpackJsonpPlugintmms-cms-element-period-request-form"]||[]).push([[164],{164:function(e,t,r){r.r(t),r.d(t,{default:function(){return n}});let{Mixin:o}=Shopware,{Criteria:i}=Shopware.Data;var n={template:'{% block periodrequestform_list %}\n    <sw-page class="periodrequestform-list">\n\n        {% block periodrequestform_list_smart_bar_header %}\n            <template #smart-bar-header>\n                {% block periodrequestform_list_smart_bar_header_title %}\n                    <h2>\n                        {% block periodrequestform_list_smart_bar_header_title_text %}\n                            {{ $t(\'periodrequestform.list.textPeriodrequestformOverview\') }}\n                        {% endblock %}\n\n                        {% block periodrequestform_list_smart_bar_header_amount %}\n                            <span\n                                v-if="!isLoading"\n                                class="sw-page__smart-bar-amount"\n                            >\n                                ({{ total }})\n                            </span>\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block periodrequestform_list_smart_bar_actions %}\n            <template #smart-bar-actions>\n                <sw-button\n                    class="periodrequestform-list__button-create"\n                    variant="primary"\n                    :disabled="!acl.can(\'periodrequestform.creator\')"\n                    :router-link="{ name: \'tmms.periodrequestform.create\' }"\n                >\n                    {{ $t(\'periodrequestform.list.addButtonText\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        {% block periodrequestform_list_content %}\n            <template #content>\n                {% block periodrequestform_list_content_list %}\n                    <sw-entity-listing\n                        v-if="isLoading || periodrequestform"\n                        class="sw-periodrequestform-list-grid"\n                        detail-route="tmms.periodrequestform.detail"\n                        identifier="sw-periodrequestform-list"\n                        :items="periodrequestform"\n                        :columns="periodrequestformColumns"\n                        :repository="periodrequestformRepository"\n                        :show-selection="acl.can(\'periodrequestform.deleter\')"\n                        :allow-view="acl.can(\'periodrequestform.viewer\')"\n                        :allow-create="acl.can(\'periodrequestform.creator\')"\n                        :allow-inline-edit="acl.can(\'periodrequestform.editor\')"\n                        :allow-edit="acl.can(\'periodrequestform.editor\')"\n                        :allow-delete="acl.can(\'periodrequestform.deleter\')"\n                        :is-loading="isLoading"\n                        @update-records="updateTotal"\n                    >\n\n                        {% block periodrequestform_list_grid_columns %}\n                            {% block periodrequestform_list_grid_columns_created_at %}\n                                <template #column-createdAt="{ item }">\n                                    {{ dateFilter(item.createdAt, { hour: \'2-digit\', minute: \'2-digit\', second: \'2-digit\' }) }}\n                                </template>\n                            {% endblock %}\n                        {% endblock %}\n\n                    </sw-entity-listing>\n                {% endblock %}\n\n                {% block periodrequestform_list_empty_state %}\n                    <sw-empty-state\n                        v-if="!isLoading && !total"\n                        icon="regular-file-text"\n                        :title="$t(\'periodrequestform.list.listEmpty\')"\n                    />\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block periodrequestform_list_sidebar %}\n            <template #sidebar>\n                <sw-sidebar class="periodrequestform-list__sidebar">\n                    {% block periodrequestform_list_sidebar_refresh %}\n                        <sw-sidebar-item\n                            icon="regular-undo"\n                            :title="$t(\'periodrequestform.list.titleSidebarItemRefresh\')"\n                            @click="onRefresh"\n                        />\n                    {% endblock %}\n                </sw-sidebar>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","acl"],mixins:[o.getByName("listing")],data(){return{isLoading:!1,periodrequestform:null,sortBy:"createdAt",sortDirection:"DESC",repository:null}},metaInfo(){return{title:this.$createTitle()}},computed:{periodrequestformColumns(){return this.getPeriodRequestFormColumns()},periodrequestformRepository(){return this.repositoryFactory.create("periodrequestform")},dateFilter(){return Shopware.Filter.getByName("date")}},methods:{getPeriodRequestFormColumns(){return[{property:"createdAt",dataIndex:"createdAt",allowResize:!0,label:this.$t("periodrequestform.list.columnCreatedAt")},{property:"salutation",dataIndex:"salutation",allowResize:!0,label:this.$t("periodrequestform.list.columnSalutation"),routerLink:"tmms.periodrequestform.detail"},{property:"firstname",dataIndex:"firstname",allowResize:!0,label:this.$t("periodrequestform.list.columnFirstname"),routerLink:"tmms.periodrequestform.detail"},{property:"lastname",dataIndex:"lastname",allowResize:!0,label:this.$t("periodrequestform.list.columnLastname"),routerLink:"tmms.periodrequestform.detail"},{property:"email",dataIndex:"email",allowResize:!0,label:this.$t("periodrequestform.list.columnEmail")},{property:"phone",dataIndex:"phone",allowResize:!0,label:this.$t("periodrequestform.list.columnPhone")},{property:"date",dataIndex:"date",allowResize:!0,label:this.$t("periodrequestform.list.columnDate"),inlineEdit:"string"},{property:"originname",dataIndex:"originname",allowResize:!0,label:this.$t("periodrequestform.list.columnOriginname")},{property:"comment",dataIndex:"comment",allowResize:!0,label:this.$t("periodrequestform.list.columnComment")},{property:"confirmed",dataIndex:"confirmed",allowResize:!0,label:this.$t("periodrequestform.list.columnConfirmed"),inlineEdit:"boolean"},{property:"answered",dataIndex:"answered",allowResize:!0,label:this.$t("periodrequestform.list.columnAnswered"),inlineEdit:"boolean"}]},getList(){this.isLoading=!0;let e=new i(this.page,this.limit);if(e.setTerm(this.term),e.addSorting(i.sort(this.sortBy,this.sortDirection)),null!==this.periodrequestformRepository)return this.periodrequestformRepository.search(e,Shopware.Context.api).then(e=>(this.periodrequestform=e,this.total=e.total,this.isLoading=!1,this.periodrequestform))},updateTotal({total:e}){this.total=e}}}}}]);